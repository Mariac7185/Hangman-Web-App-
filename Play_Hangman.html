<!DOCTYPE html>

<html>

<head>
	<meta charset="utf-8">
	<title>Play Hangman</title>
	<link type="text/css" rel="stylesheet" href="stylesheet.css"/>


</head>


<body>

<script type="text/javascript">
	
	window.onload=function(){
		// var e = document.getElementById("menu");
		// var category = e.options[e.selectedIndex].text;

		// alert(category);

	}


	var imageArray = ['./hangmanImages/Image1.gif','./hangmanImages/Image2.gif','./hangmanImages/Image3.gif','./hangmanImages/Image4.gif','./hangmanImages/Image5.gif','./hangmanImages/Image6.gif','./hangmanImages/Image7.gif','./hangmanImages/Image8.gif'];

	var index = 0;

	var wordArray;

	document.write("<img src=\"" + imageArray[index] + "\" alt=\"hangmanImage\"/>");


	var word = function(){
		var numWords;
		var wordIndex;
		var category;
		
		this.getSelectedCategory = function(){
			var e = document.getElementById("menu");
			this.category=e.options[e.selectedIndex].value;
		}

		this.setNumCategories = function(num){
			this.numCategories = num;
		}

		this.setWordIndex = function(){
			this.wordIndex = Math.floor((Math.random() * this.numCategories) );
		}

		this.getNumWords =function(){

		}

		//This function will read the contents of the file 
		this.readFile = function(fileName){

		}
	}

	var word1 = new word();

	word1.setNumCategories(5);
	
	// document.write(word1.categoryIndex);

	function getCategory(category){
		loadFile(category);
		// alert(category);
	}

    /*This function loads the file of the category selected, line by line.
      It calls the makeArray function which the converts the javascript object (text from the file) into a string
    */
	function loadFile(category){
		var file = "file:///C:/Users/Avi/Desktop/Dropbox/HANGMAN (WEB)/".concat(category).concat(".txt");
		var lines;
		alert(file);
		var rawFile =  new XMLHttpRequest();
		rawFile.open("GET", category.concat(".txt"),false);
		rawFile.onreadystatechange = function (){
			if(rawFile.readyState === 4){							//document is ready to parse 																  
				if(rawFile.status === 200 || rawFile.status ===0){    //file is found 
					var allText = rawFile.responseText;
					var lines  = rawFile.responseText.split("\n");    //Reading the file line by line. Adding a comma after each line
					makeArray(lines);
					//alert(lines);
				}
			}
		}
		rawFile.send(null);

	}

	/*This function receives the data read in from the file as an object
	  It then converts that object to a string
	  It then splits the string (after each comma) and places it into an array
	 */
	function makeArray(fileData){
		var str = String(fileData)	
		wordArray= str.split(",");
		alert(wordArray[0]);
	}

	function getWord(){
		var categorySize = wordArray.length;
		var word = wordArray[Math.floor((Math.random() * categorySize))];

		alert(word);

	}

	

</script>
<br>
<input id="userInput" type="text" maxlength="1" value ="" autofocus="autofocus" name="input"></input>

<select id="menu" onchange="getCategory(this.value);">
	<option value="select">Select Category</option>
	<option value="states">U.S. State</option>
	<option value="countries">Country</option>
	<option value="animal">Animal</option>
	<option value="occupation">Occupation/Job</option>
	<option value="appliance">Household Appliance</option>
	<option value="furniture">Furniture</option>
	<option value="fruit">Fruit</option>
	<option value="transport">Transportation</option>
	<option value="music">Musical Instrument</option>
	<option value="mlbTeams">MLB Teams</option>
	<option value="nbaTeams">NBA Teams</option>
	<option value="nhlTeams">NHL Teams</option>
	<option value="nflTeams">NFL Teams</option>
</select>


</body>

</html>